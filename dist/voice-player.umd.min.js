(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["voice-player"]=e(require("vue")):t["voice-player"]=e(t["Vue"])})("undefined"!==typeof self?self:this,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"37f8":function(t,e,n){},"8bbf":function(e,n){e.exports=t},"8d34":function(t,e,n){"use strict";var r=n("37f8"),o=n.n(r);o.a},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"voice-player",on:{click:t.toggle}},[n("i",{class:"trumpet"+t.step}),t.duration>0?n("em",[t._v(t._s(t.duration)+'"')]):t._e(),n("audio",{ref:"audio",staticClass:"audio",attrs:{src:t.url,preload:"metadata"},on:{loadedmetadata:t.metaLoaded,ended:t.ended}})])},i=[],a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},a(t,e)};function c(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function u(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}var f=n("8bbf"),p=n.n(f),s="undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function d(t,e){l(t,e),Object.getOwnPropertyNames(e.prototype).forEach(function(n){l(t.prototype,e.prototype,n)}),Object.getOwnPropertyNames(e).forEach(function(n){l(t,e,n)})}function l(t,e,n){var r=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);r.forEach(function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)})}var y={__proto__:[]},v=y instanceof Array;function _(t){return function(e,n,r){var o="function"===typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!==typeof r&&(r=void 0),o.__decorators__.push(function(e){return t(e,n,r)})}}function h(t){var e=typeof t;return null==t||"object"!==e&&"function"!==e}function m(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach(function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})})};var r=new e;e.prototype._init=n;var o={};return Object.keys(r).forEach(function(t){void 0!==r[t]&&(o[t]=r[t])}),o}var b=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function g(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach(function(t){if("constructor"!==t)if(b.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"===typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){var e;return e={},e[t]=r.value,e}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return m(this,t)}});var r=t.__decorators__;r&&(r.forEach(function(t){return t(e)}),delete t.__decorators__);var o=Object.getPrototypeOf(t.prototype),i=o instanceof p.a?o.constructor:p.a,a=i.extend(e);return j(a,t,i),s&&d(a,t),a}var O={prototype:!0,arguments:!0,callee:!0,caller:!0};function j(t,e,n){Object.getOwnPropertyNames(e).forEach(function(r){if(!O[r]){var o=Object.getOwnPropertyDescriptor(t,r);if(!o||o.configurable){var i=Object.getOwnPropertyDescriptor(e,r);if(!v){if("cid"===r)return;var a=Object.getOwnPropertyDescriptor(n,r);if(!h(i.value)&&a&&a.value===i.value)return}0,Object.defineProperty(t,r,i)}}})}function w(t){return"function"===typeof t?g(t):function(e){return g(e,t)}}w.registerHooks=function(t){b.push.apply(b,t)};var P=w;var x="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function R(t,e,n){x&&(Array.isArray(t)||"function"===typeof t||"undefined"!==typeof t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function E(t){return void 0===t&&(t={}),function(e,n){R(t,e,n),_(function(e,n){(e.props||(e.props={}))[n]=t})(e,n)}}function M(t,e,n){var r,o=window.requestAnimationFrame,i=Date.now(),a=function(){Date.now()-i>=e&&(i=Date.now(),t()),r?n&&n():o(a)};return o(a),{clear:function(){r=!0}}}var S=[],$=function(t){function e(){var e=t.call(this)||this;return e.duration=0,e.step=2,e.animate=null,e.playing=!1,S.push(e),e}return c(e,t),Object.defineProperty(e.prototype,"audio",{get:function(){return this.$refs.audio},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){this.playing?this.pause():this.play()},e.prototype.play=function(){this.only&&this.pauseAll(),this.playing=!0,this.startAnimate(),this.audio.play(),this.$emit("play")},e.prototype.pause=function(){this.playing=!1,this.stopAnimate(),this.audio.pause(),this.$emit("pause")},e.prototype.pauseAll=function(){S.forEach(function(t){return t.pause()})},e.prototype.metaLoaded=function(t){this.duration=parseInt(t.target.duration,10)},e.prototype.ended=function(){this.pause()},e.prototype.startAnimate=function(){var t=this;this.animate=M(function(){t.step=(t.step+1)%3},400,function(){t.step=2})},e.prototype.stopAnimate=function(){this.animate&&this.animate.clear(),this.animate=null,this.step=2},u([E({type:String})],e.prototype,"url",void 0),u([E({type:Boolean,default:!0})],e.prototype,"only",void 0),e=u([P],e),e}(p.a),A=$,C=A;n("8d34");function D(t,e,n,r,o,i,a,c){var u,f="function"===typeof t?t.options:t;if(e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),i&&(f._scopeId="data-v-"+i),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},f._ssrRegister=u):o&&(u=c?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(f.functional){f._injectStyles=u;var p=f.render;f.render=function(t,e){return u.call(e),p(t,e)}}else{var s=f.beforeCreate;f.beforeCreate=s?[].concat(s,u):[u]}return{exports:t,options:f}}var N=D(C,o,i,!1,null,"77e40bd0",null),T=N.exports,k=T;e["default"]=k}})});
//# sourceMappingURL=voice-player.umd.min.js.map